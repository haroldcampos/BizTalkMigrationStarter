{
  "kind": "Stateful",
  "definition": {
    "$schema": "https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#",
    "contentVersion": "1.0.0.0",
    "triggers": {
      "DefaultReceiveLocation": {
        "type": "Request",
        "kind": "Http"
      }
    },
    "actions": {
      "exceptionCode": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "exceptionCode",
              "type": "object",
              "value": null
            }
          ]
        },
        "runAfter": {}
      },
      "destinationPartyName": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "destinationPartyName",
              "type": "string",
              "value": ""
            }
          ]
        },
        "runAfter": {
          "exceptionCode": [
            "SUCCEEDED"
          ]
        }
      },
      "sourcePartyName": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "sourcePartyName",
              "type": "string",
              "value": ""
            }
          ]
        },
        "runAfter": {
          "destinationPartyName": [
            "SUCCEEDED"
          ]
        }
      },
      "errorDescription": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "errorDescription",
              "type": "string",
              "value": ""
            }
          ]
        },
        "runAfter": {
          "sourcePartyName": [
            "SUCCEEDED"
          ]
        }
      },
      "correlationInfo": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "correlationInfo",
              "type": "string",
              "value": ""
            }
          ]
        },
        "runAfter": {
          "errorDescription": [
            "SUCCEEDED"
          ]
        }
      },
      "componentCode": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "componentCode",
              "type": "string",
              "value": ""
            }
          ]
        },
        "runAfter": {
          "correlationInfo": [
            "SUCCEEDED"
          ]
        }
      },
      "pipInstanceID": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "pipInstanceID",
              "type": "string",
              "value": ""
            }
          ]
        },
        "runAfter": {
          "componentCode": [
            "SUCCEEDED"
          ]
        }
      },
      "pipVersion": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "pipVersion",
              "type": "string",
              "value": ""
            }
          ]
        },
        "runAfter": {
          "pipInstanceID": [
            "SUCCEEDED"
          ]
        }
      },
      "rnConfig": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "rnConfig",
              "type": "object",
              "value": null
            }
          ]
        },
        "runAfter": {
          "pipVersion": [
            "SUCCEEDED"
          ]
        }
      },
      "timeToPerformOffset": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "timeToPerformOffset",
              "type": "integer",
              "value": 0
            }
          ]
        },
        "runAfter": {
          "rnConfig": [
            "SUCCEEDED"
          ]
        }
      },
      "signalType": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "signalType",
              "type": "integer",
              "value": 0
            }
          ]
        },
        "runAfter": {
          "timeToPerformOffset": [
            "SUCCEEDED"
          ]
        }
      },
      "pipCode": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "pipCode",
              "type": "string",
              "value": ""
            }
          ]
        },
        "runAfter": {
          "signalType": [
            "SUCCEEDED"
          ]
        }
      },
      "sendAutoResponse": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "sendAutoResponse",
              "type": "string",
              "value": ""
            }
          ]
        },
        "runAfter": {
          "pipCode": [
            "SUCCEEDED"
          ]
        }
      },
      "pip3A4ResponseXML": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "pip3A4ResponseXML",
              "type": "object",
              "value": null
            }
          ]
        },
        "runAfter": {
          "sendAutoResponse": [
            "SUCCEEDED"
          ]
        }
      },
      "sendAutoResponseBuilder": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "sendAutoResponseBuilder",
              "type": "string",
              "value": ""
            }
          ]
        },
        "runAfter": {
          "pip3A4ResponseXML": [
            "SUCCEEDED"
          ]
        }
      },
      "submitMessage": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "submitMessage",
              "type": "object",
              "value": null
            }
          ]
        },
        "runAfter": {
          "sendAutoResponseBuilder": [
            "SUCCEEDED"
          ]
        }
      },
      "ResponseMessage": {
        "type": "InitializeVariable",
        "inputs": {
          "variables": [
            {
              "name": "ResponseMessage",
              "type": "object",
              "value": null
            }
          ]
        },
        "runAfter": {
          "submitMessage": [
            "SUCCEEDED"
          ]
        }
      },
      "ConstructPIP3A4RequestMessage_64772406": {
        "type": "Compose",
        "inputs": "@'PIP3A4RequestMessage = Microsoft.Solutions.BTARN.Shared.SCContainer.ConvertFromContainer(ActionMessage)'",
        "runAfter": {
          "ResponseMessage": [
            "SUCCEEDED"
          ]
        }
      },
      "RuleScope": {
        "type": "Scope",
        "actions": {
          "Execute_Rules_Engine": {
            "type": "RuleExecute",
            "inputs": {
              "ruleSet": "",
              "ruleStore": "FileFolder"
            },
            "runAfter": {}
          }
        },
        "runAfter": {
          "ConstructPIP3A4RequestMessage_64772406": [
            "SUCCEEDED"
          ]
        }
      },
      "Expression_1": {
        "type": "Compose",
        "inputs": "@'sendAutoResponse = sendAutoResponseBuilder.ToString()'",
        "runAfter": {
          "RuleScope": [
            "SUCCEEDED"
          ]
        }
      },
      "DecideOnAutomaticResponse_47b40130": {
        "type": "If",
        "expression": "@equals(variables('sendAutoResponse'), 'true')",
        "actions": {
          "ConstructLOBMessage_1c5ba55c": {
            "type": "Compose",
            "inputs": "@'pipCode = ActionMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCPIPCode); \r\npipVersion = ActionMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCPIPVersion); \r\npipInstanceID = ActionMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCInstanceID);\r\nsourcePartyName = ActionMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCSourcePartnerID);\r\ndestinationPartyName = ActionMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCDestinationPartnerID);\r\n\r\nLOBMessage = null;\r\n\r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.ConstructLOBMessage\r\n    (LOBMessage, ActionMessage);\r\n\r\n\r\nSystem.Diagnostics.Debug.WriteLine(\"Sending to LOB message of type: \" + \r\n   Microsoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetToStringOf(\r\n     LOBMessage(Microsoft.Solutions.BTARN.GlobalSchemas.MessageCategory) ) );\r\nLOBMessage(Microsoft.Solutions.BTARN.GlobalSchemas.Delivered) = \"2\"'",
            "runAfter": {}
          }
        },
        "else": {
          "actions": {
            "ConstructLOBMessage_2dee59b0": {
              "type": "Compose",
              "inputs": "@'pipCode = ActionMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCPIPCode); \r\npipVersion = ActionMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCPIPVersion); \r\npipInstanceID = ActionMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCInstanceID);\r\nsourcePartyName = ActionMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCSourcePartnerID);\r\ndestinationPartyName = ActionMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCDestinationPartnerID);\r\n\r\nLOBMessage = null;\r\n\r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.ConstructLOBMessage\r\n    (LOBMessage, ActionMessage);\r\n\r\n\r\nSystem.Diagnostics.Debug.WriteLine(\"Sending to LOB message of type: \" + \r\n   Microsoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetToStringOf(\r\n     LOBMessage(Microsoft.Solutions.BTARN.GlobalSchemas.MessageCategory) ) );\r\nLOBMessage(Microsoft.Solutions.BTARN.GlobalSchemas.Delivered) = \"1\"'",
              "runAfter": {}
            }
          }
        },
        "runAfter": {
          "Expression_1": [
            "SUCCEEDED"
          ]
        }
      },
      "SendSCMessageToLOB": {
        "type": "Http",
        "inputs": {
          "method": "POST",
          "uri": "http://localhost/service",
          "body": "@triggerBody()",
          "headers": {
            "Content-Type": "application/json"
          }
        },
        "runAfter": {
          "DecideOnAutomaticResponse_47b40130": [
            "SUCCEEDED"
          ]
        }
      },
      "GetRNConfig": {
        "type": "Compose",
        "inputs": "@'rnConfig = Microsoft.Solutions.BTARN.ConfigurationManager.RuntimeConfigGenerator.GetRuntimeConfig\r\n (destinationPartyName, sourcePartyName, pipCode, pipVersion,\r\n     false, false);\r\nrnConfig.PIPInstanceID = pipInstanceID'",
        "runAfter": {
          "SendSCMessageToLOB": [
            "SUCCEEDED"
          ]
        }
      },
      "NotifyApp": {
        "type": "Compose",
        "inputs": "@variables('rnConfig')?['InvokeNotify( LOBMessage(Microsoft']?['Solutions']?['BTARN']?['GlobalSchemas']?['MessageCategory) )']",
        "runAfter": {
          "GetRNConfig": [
            "SUCCEEDED"
          ]
        }
      },
      "DecideActivityType_b0978f80": {
        "type": "If",
        "expression": "@equals('IsActivitySingleAction)', 'FalseString')",
        "actions": {
          "DecideOnAutoResponse_d1bd67f3": {
            "type": "If",
            "expression": "@equals(variables('sendAutoResponse'), 'true')",
            "actions": {
              "ConstructResponseMessage_02e1e731": {
                "type": "Xslt",
                "inputs": {
                  "content": "@triggerBody()",
                  "map": {
                    "name": "PIP3A4RequestToConfirmationMap",
                    "type": "Xslt"
                  },
                  "transformOptions": "ApplyXsltTemplates"
                },
                "runAfter": {}
              },
              "SubmitResponseMessage_1f2040bc": {
                "type": "Compose",
                "inputs": "@'pip3A4ResponseXML = PIP3A4ResponseMessage;\r\nsubmitMessage.SubmitMessage(Microsoft.Solutions.BTARN.Shared.MessageCategory.AsyncResponse,ActionMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCDestinationPartnerID),ActionMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCSourcePartnerID),ActionMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCPIPCode),ActionMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCInstanceID),ActionMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCPIPVersion),Microsoft.Solutions.BTARN.SDK.PIP3A4PrivateResponder.Helper.EditTransformedMessage(pip3A4ResponseXML))'",
                "runAfter": {
                  "ConstructResponseMessage_02e1e731": [
                    "SUCCEEDED"
                  ]
                }
              }
            },
            "else": {
              "actions": {}
            },
            "runAfter": {}
          },
          "ReceiveResponseFromLOB": {
            "type": "Compose",
            "inputs": "// Unmapped: Response Receive response from FromLOB (BizTalk correlation pattern - requires manual configuration)",
            "runAfter": {
              "DecideOnAutoResponse_d1bd67f3": [
                "SUCCEEDED"
              ]
            }
          },
          "ReportException": {
            "type": "Compose",
            "inputs": "@'exceptionCode = Microsoft.Solutions.BTARN.ConfigurationManager.GlobalMessageExceptionCode.TimeoutOnResponse;\r\nerrorDescription = \r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetString(\r\n Microsoft.Solutions.BTARN.ConfigurationManager.StringResourceIDNames.PriResponderTimeOutOnResponse  )'",
            "runAfter": {
              "DecideOnAutoResponse_d1bd67f3": [
                "SUCCEEDED"
              ]
            }
          },
          "ConstructLOBMessage_eb502f70": {
            "type": "Compose",
            "inputs": "@'LOBMessage = null;\r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.ConstructLOBMessage\r\n    (LOBMessage, \r\n     Microsoft.Solutions.BTARN.Shared.SCContainer.ConvertFromContainer(nofMessage), \r\n     pipInstanceID, pipCode, pipVersion, \r\n     nofMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCSourcePartnerID),\r\n     nofMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCDestinationPartnerID),\r\n     nofMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCCategory) \r\n    )'",
            "runAfter": {
              "DecideOnAutoResponse_d1bd67f3": [
                "SUCCEEDED"
              ]
            }
          },
          "CallOrchestration_2": {
            "type": "Workflow",
            "inputs": {
              "host": {
                "workflow": {
                  "id": "SendExceptionToLOB"
                }
              },
              "body": {
                "message": "@triggerBody()"
              }
            },
            "runAfter": {
              "DecideOnAutoResponse_d1bd67f3": [
                "SUCCEEDED"
              ]
            }
          },
          "ToLOB": {
            "type": "Compose",
            "inputs": "@'// Unhandled shape type: Parameter'",
            "runAfter": {
              "CallOrchestration_2": [
                "SUCCEEDED"
              ]
            }
          },
          "pipCode_1": {
            "type": "Compose",
            "inputs": "@'// Unhandled shape type: Parameter'",
            "runAfter": {
              "ToLOB": [
                "SUCCEEDED"
              ]
            }
          },
          "pipVersion_1": {
            "type": "Compose",
            "inputs": "@'// Unhandled shape type: Parameter'",
            "runAfter": {
              "pipCode_1": [
                "SUCCEEDED"
              ]
            }
          },
          "pipInstanceID_1": {
            "type": "Compose",
            "inputs": "@'// Unhandled shape type: Parameter'",
            "runAfter": {
              "pipVersion_1": [
                "SUCCEEDED"
              ]
            }
          },
          "sourcePartyName_1": {
            "type": "Compose",
            "inputs": "@'// Unhandled shape type: Parameter'",
            "runAfter": {
              "pipInstanceID_1": [
                "SUCCEEDED"
              ]
            }
          },
          "destinationPartyName_1": {
            "type": "Compose",
            "inputs": "@'// Unhandled shape type: Parameter'",
            "runAfter": {
              "sourcePartyName_1": [
                "SUCCEEDED"
              ]
            }
          },
          "exceptionCode_1": {
            "type": "Compose",
            "inputs": "@'// Unhandled shape type: Parameter'",
            "runAfter": {
              "destinationPartyName_1": [
                "SUCCEEDED"
              ]
            }
          },
          "componentCode_1": {
            "type": "Compose",
            "inputs": "@'// Unhandled shape type: Parameter'",
            "runAfter": {
              "exceptionCode_1": [
                "SUCCEEDED"
              ]
            }
          },
          "errorDescription_1": {
            "type": "Compose",
            "inputs": "@'// Unhandled shape type: Parameter'",
            "runAfter": {
              "componentCode_1": [
                "SUCCEEDED"
              ]
            }
          },
          "SendSCMessageToLOB_1": {
            "type": "Http",
            "inputs": {
              "method": "POST",
              "uri": "http://localhost/service",
              "body": "@triggerBody()",
              "headers": {
                "Content-Type": "application/json"
              }
            },
            "runAfter": {
              "DecideOnAutoResponse_d1bd67f3": [
                "SUCCEEDED"
              ]
            }
          },
          "Terminate_OnResponseTimeOut": {
            "type": "Terminate",
            "inputs": {
              "runStatus": "Failed",
              "runError": {
                "code": "Terminated",
                "message": "\"Terminated due to NoF message\";\r\n"
              }
            },
            "runAfter": {
              "DecideOnAutoResponse_d1bd67f3": [
                "SUCCEEDED"
              ]
            }
          },
          "ReceiveResponseFromLOB_1": {
            "type": "Compose",
            "inputs": "// Unmapped: Response Receive response from FromLOB (BizTalk correlation pattern - requires manual configuration)",
            "runAfter": {
              "DecideOnAutoResponse_d1bd67f3": [
                "SUCCEEDED"
              ]
            }
          },
          "ReceiveNoFException": {
            "type": "Compose",
            "inputs": "// Unmapped: Response Receive response from FromPublicResponder (BizTalk correlation pattern - requires manual configuration)",
            "runAfter": {
              "DecideOnAutoResponse_d1bd67f3": [
                "SUCCEEDED"
              ]
            }
          },
          "ReportException_1": {
            "type": "Compose",
            "inputs": "@'exceptionCode = Microsoft.Solutions.BTARN.ConfigurationManager.GlobalMessageExceptionCode.TimeoutOnResponse;\r\nerrorDescription = \r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetString(\r\n Microsoft.Solutions.BTARN.ConfigurationManager.StringResourceIDNames.PriResponderTimeOutOnResponse  )'",
            "runAfter": {
              "DecideOnAutoResponse_d1bd67f3": [
                "SUCCEEDED"
              ]
            }
          },
          "CallOrchestration_2_1": {
            "type": "Workflow",
            "inputs": {
              "host": {
                "workflow": {
                  "id": "SendExceptionToLOB"
                }
              },
              "body": {
                "message": "@triggerBody()"
              }
            },
            "runAfter": {
              "ReportException_1": [
                "SUCCEEDED"
              ]
            }
          },
          "Terminate_OnResponseTimeOut_1": {
            "type": "Terminate",
            "inputs": {
              "runStatus": "Failed",
              "runError": {
                "code": "Terminated",
                "message": "Microsoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetString(\r\n           Microsoft.Solutions.BTARN.ConfigurationManager.StringResourceIDNames.PriResponderTimeOutOnResponse );\r\n"
              }
            },
            "runAfter": {
              "CallOrchestration_2_1": [
                "SUCCEEDED"
              ]
            }
          },
          "WaitForResponse": {
            "type": "Wait",
            "inputs": {
              "interval": {
                "count": 1,
                "unit": "Minute"
              }
            },
            "runAfter": {
              "Terminate_OnResponseTimeOut_1": [
                "SUCCEEDED"
              ]
            }
          },
          "Terminate_OnResponseTimeOut_2": {
            "type": "Terminate",
            "inputs": {
              "runStatus": "Failed",
              "runError": {
                "code": "Terminated",
                "message": "Microsoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetString(\r\n           Microsoft.Solutions.BTARN.ConfigurationManager.StringResourceIDNames.PriResponderTimeOutOnResponse );\r\n"
              }
            },
            "runAfter": {
              "DecideOnAutoResponse_d1bd67f3": [
                "SUCCEEDED"
              ]
            }
          },
          "WaitForResponse_1": {
            "type": "Wait",
            "inputs": {
              "interval": {
                "count": 1,
                "unit": "Minute"
              }
            },
            "runAfter": {
              "DecideOnAutoResponse_d1bd67f3": [
                "SUCCEEDED"
              ]
            }
          },
          "ConstructLOBMessage_eb502f70_1": {
            "type": "Compose",
            "inputs": "@'LOBMessage = null;\r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.ConstructLOBMessage\r\n    (LOBMessage, \r\n     Microsoft.Solutions.BTARN.Shared.SCContainer.ConvertFromContainer(nofMessage), \r\n     pipInstanceID, pipCode, pipVersion, \r\n     nofMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCSourcePartnerID),\r\n     nofMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCDestinationPartnerID),\r\n     nofMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCCategory) \r\n    )'",
            "runAfter": {
              "DecideOnAutoResponse_d1bd67f3": [
                "SUCCEEDED"
              ]
            }
          },
          "SendSCMessageToLOB_2": {
            "type": "Http",
            "inputs": {
              "method": "POST",
              "uri": "http://localhost/service",
              "body": "@triggerBody()",
              "headers": {
                "Content-Type": "application/json"
              }
            },
            "runAfter": {
              "ConstructLOBMessage_eb502f70_1": [
                "SUCCEEDED"
              ]
            }
          },
          "Terminate_OnResponseTimeOut_3": {
            "type": "Terminate",
            "inputs": {
              "runStatus": "Failed",
              "runError": {
                "code": "Terminated",
                "message": "\"Terminated due to NoF message\";\r\n"
              }
            },
            "runAfter": {
              "SendSCMessageToLOB_2": [
                "SUCCEEDED"
              ]
            }
          },
          "ReceiveNoFException_1": {
            "type": "Compose",
            "inputs": "// Unmapped: Response Receive response from FromPublicResponder (BizTalk correlation pattern - requires manual configuration)",
            "runAfter": {
              "Terminate_OnResponseTimeOut_3": [
                "SUCCEEDED"
              ]
            }
          },
          "ListenForResponse_e163d5ff_Join": {
            "type": "Compose",
            "inputs": {
              "parallelBranchesCompleted": true,
              "branchCount": 12
            },
            "runAfter": {
              "ReceiveResponseFromLOB": [
                "SUCCEEDED"
              ],
              "ReportException": [
                "SUCCEEDED"
              ],
              "ConstructLOBMessage_eb502f70": [
                "SUCCEEDED"
              ],
              "errorDescription_1": [
                "SUCCEEDED"
              ],
              "SendSCMessageToLOB_1": [
                "SUCCEEDED"
              ],
              "Terminate_OnResponseTimeOut": [
                "SUCCEEDED"
              ],
              "ReceiveResponseFromLOB_1": [
                "SUCCEEDED"
              ],
              "ReceiveNoFException": [
                "SUCCEEDED"
              ],
              "WaitForResponse": [
                "SUCCEEDED"
              ],
              "Terminate_OnResponseTimeOut_2": [
                "SUCCEEDED"
              ],
              "WaitForResponse_1": [
                "SUCCEEDED"
              ],
              "ReceiveNoFException_1": [
                "SUCCEEDED"
              ]
            }
          },
          "ConstructResponseMessage_b80ab352": {
            "type": "Compose",
            "inputs": "@'ResponseMessage = null;\r\nrnConfig.ConstructSCMessageToPublicProcess\r\n  ( LOBMessage, ResponseMessage)'",
            "runAfter": {
              "ListenForResponse_e163d5ff_Join": [
                "SUCCEEDED"
              ]
            }
          },
          "SendToPublicProcess_a8d6c9a0": {
            "type": "Http",
            "inputs": {
              "method": "POST",
              "uri": "http://localhost/service",
              "body": "@triggerBody()",
              "headers": {
                "Content-Type": "application/json"
              }
            },
            "runAfter": {
              "ConstructResponseMessage_b80ab352": [
                "SUCCEEDED"
              ]
            }
          },
          "DecideResponseType_8f09547a": {
            "type": "If",
            "expression": "@variables('rnConfig')?['IsSynchronous']",
            "actions": {
              "NotifyProcessCompletion_5330800c": {
                "type": "Compose",
                "inputs": "@''",
                "runAfter": {}
              }
            },
            "else": {
              "actions": {
                "ReportException_2": {
                  "type": "Compose",
                  "inputs": "@'exceptionCode = Microsoft.Solutions.BTARN.ConfigurationManager.GlobalMessageExceptionCode.TimeoutOnSignal;\r\nerrorDescription = \r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetString(\r\n Microsoft.Solutions.BTARN.ConfigurationManager.StringResourceIDNames.PriResponderTimeOutOnSignal )'",
                  "runAfter": {}
                },
                "ConstructLOBMessage_aaa34ff6": {
                  "type": "Compose",
                  "inputs": "@'LOBMessage = null;\r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.ConstructLOBMessage\r\n    (LOBMessage, SignalMessage);\r\nsignalType = SignalMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCCategory)'",
                  "runAfter": {}
                },
                "CallOrchestration_2_2": {
                  "type": "Workflow",
                  "inputs": {
                    "host": {
                      "workflow": {
                        "id": "SendExceptionToLOB"
                      }
                    },
                    "body": {
                      "message": "@triggerBody()"
                    }
                  },
                  "runAfter": {}
                },
                "ToLOB_1": {
                  "type": "Compose",
                  "inputs": "@'// Unhandled shape type: Parameter'",
                  "runAfter": {
                    "CallOrchestration_2_2": [
                      "SUCCEEDED"
                    ]
                  }
                },
                "pipCode_2": {
                  "type": "Compose",
                  "inputs": "@'// Unhandled shape type: Parameter'",
                  "runAfter": {
                    "ToLOB_1": [
                      "SUCCEEDED"
                    ]
                  }
                },
                "pipVersion_2": {
                  "type": "Compose",
                  "inputs": "@'// Unhandled shape type: Parameter'",
                  "runAfter": {
                    "pipCode_2": [
                      "SUCCEEDED"
                    ]
                  }
                },
                "pipInstanceID_2": {
                  "type": "Compose",
                  "inputs": "@'// Unhandled shape type: Parameter'",
                  "runAfter": {
                    "pipVersion_2": [
                      "SUCCEEDED"
                    ]
                  }
                },
                "sourcePartyName_2": {
                  "type": "Compose",
                  "inputs": "@'// Unhandled shape type: Parameter'",
                  "runAfter": {
                    "pipInstanceID_2": [
                      "SUCCEEDED"
                    ]
                  }
                },
                "destinationPartyName_2": {
                  "type": "Compose",
                  "inputs": "@'// Unhandled shape type: Parameter'",
                  "runAfter": {
                    "sourcePartyName_2": [
                      "SUCCEEDED"
                    ]
                  }
                },
                "exceptionCode_2": {
                  "type": "Compose",
                  "inputs": "@'// Unhandled shape type: Parameter'",
                  "runAfter": {
                    "destinationPartyName_2": [
                      "SUCCEEDED"
                    ]
                  }
                },
                "componentCode_2": {
                  "type": "Compose",
                  "inputs": "@'// Unhandled shape type: Parameter'",
                  "runAfter": {
                    "exceptionCode_2": [
                      "SUCCEEDED"
                    ]
                  }
                },
                "errorDescription_2": {
                  "type": "Compose",
                  "inputs": "@'// Unhandled shape type: Parameter'",
                  "runAfter": {
                    "componentCode_2": [
                      "SUCCEEDED"
                    ]
                  }
                },
                "SendSignalToLOB": {
                  "type": "Http",
                  "inputs": {
                    "method": "POST",
                    "uri": "http://localhost/service",
                    "body": "@triggerBody()",
                    "headers": {
                      "Content-Type": "application/json"
                    }
                  },
                  "runAfter": {}
                },
                "ReportException_3": {
                  "type": "Compose",
                  "inputs": "@'exceptionCode = Microsoft.Solutions.BTARN.ConfigurationManager.GlobalMessageExceptionCode.TimeoutOnSignal;\r\nerrorDescription = \r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetString(\r\n Microsoft.Solutions.BTARN.ConfigurationManager.StringResourceIDNames.PriResponderTimeOutOnSignal )'",
                  "runAfter": {}
                },
                "CallOrchestration_2_3": {
                  "type": "Workflow",
                  "inputs": {
                    "host": {
                      "workflow": {
                        "id": "SendExceptionToLOB"
                      }
                    },
                    "body": {
                      "message": "@triggerBody()"
                    }
                  },
                  "runAfter": {
                    "ReportException_3": [
                      "SUCCEEDED"
                    ]
                  }
                },
                "Terminate_OnTimeOut": {
                  "type": "Terminate",
                  "inputs": {
                    "runStatus": "Failed",
                    "runError": {
                      "code": "Terminated",
                      "message": "Microsoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetString(\r\n           Microsoft.Solutions.BTARN.ConfigurationManager.StringResourceIDNames.PriResponderTimeOutOnSignal );\r\n\r\n\r\n\r\n"
                    }
                  },
                  "runAfter": {
                    "CallOrchestration_2_3": [
                      "SUCCEEDED"
                    ]
                  }
                },
                "WaitForSignal": {
                  "type": "Wait",
                  "inputs": {
                    "interval": {
                      "count": 1,
                      "unit": "Minute"
                    }
                  },
                  "runAfter": {
                    "Terminate_OnTimeOut": [
                      "SUCCEEDED"
                    ]
                  }
                },
                "NotifyApp_1": {
                  "type": "Compose",
                  "inputs": "@variables('rnConfig')?['InvokeNotify( signalType )']",
                  "runAfter": {}
                },
                "Decide_OnRNIFVersion_4ce2fbeb": {
                  "type": "If",
                  "expression": "@equals(variables('rnConfig')?['xRNVersion'], 'rnifv11VersionID')",
                  "actions": {
                    "DecideIf2ndAckIsExpected_6899deec": {
                      "type": "If",
                      "expression": "@not(equals('IsExceptionMessage)', 'TrueString'))",
                      "actions": {
                        "ReportException_4": {
                          "type": "Compose",
                          "inputs": "@'exceptionCode = Microsoft.Solutions.BTARN.ConfigurationManager.GlobalMessageExceptionCode.TimeoutOnSignal;\r\nerrorDescription = \r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetString(\r\n Microsoft.Solutions.BTARN.ConfigurationManager.StringResourceIDNames.PriResponderTimeOutOnSignal )'",
                          "runAfter": {}
                        },
                        "ConstructLOBMessage_2ff5bfe8": {
                          "type": "Compose",
                          "inputs": "@'LOBMessage = null;\r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.ConstructLOBMessage\r\n    (LOBMessage, AcceptanceMessage );\r\nsignalType = AcceptanceMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCCategory)'",
                          "runAfter": {}
                        },
                        "CallOrchestration_2_4": {
                          "type": "Workflow",
                          "inputs": {
                            "host": {
                              "workflow": {
                                "id": "SendExceptionToLOB"
                              }
                            },
                            "body": {
                              "message": "@triggerBody()"
                            }
                          },
                          "runAfter": {}
                        },
                        "ToLOB_2": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "CallOrchestration_2_4": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "pipCode_3": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "ToLOB_2": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "pipVersion_3": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "pipCode_3": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "pipInstanceID_3": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "pipVersion_3": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "sourcePartyName_3": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "pipInstanceID_3": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "destinationPartyName_3": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "sourcePartyName_3": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "exceptionCode_3": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "destinationPartyName_3": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "componentCode_3": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "exceptionCode_3": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "errorDescription_3": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "componentCode_3": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "SendSignalToLOB_1": {
                          "type": "Http",
                          "inputs": {
                            "method": "POST",
                            "uri": "http://localhost/service",
                            "body": "@triggerBody()",
                            "headers": {
                              "Content-Type": "application/json"
                            }
                          },
                          "runAfter": {}
                        },
                        "ReportException_5": {
                          "type": "Compose",
                          "inputs": "@'exceptionCode = Microsoft.Solutions.BTARN.ConfigurationManager.GlobalMessageExceptionCode.TimeoutOnSignal;\r\nerrorDescription = \r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetString(\r\n Microsoft.Solutions.BTARN.ConfigurationManager.StringResourceIDNames.PriResponderTimeOutOnSignal )'",
                          "runAfter": {}
                        },
                        "CallOrchestration_2_5": {
                          "type": "Workflow",
                          "inputs": {
                            "host": {
                              "workflow": {
                                "id": "SendExceptionToLOB"
                              }
                            },
                            "body": {
                              "message": "@triggerBody()"
                            }
                          },
                          "runAfter": {
                            "ReportException_5": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "Terminate_OnTimeOut_1": {
                          "type": "Terminate",
                          "inputs": {
                            "runStatus": "Failed",
                            "runError": {
                              "code": "Terminated",
                              "message": "Microsoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetString(\r\n           Microsoft.Solutions.BTARN.ConfigurationManager.StringResourceIDNames.PriResponderTimeOutOnSignal );\r\n\r\n\r\n\r\n"
                            }
                          },
                          "runAfter": {
                            "CallOrchestration_2_5": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "WaitForSignal_1": {
                          "type": "Wait",
                          "inputs": {
                            "interval": {
                              "count": 1,
                              "unit": "Minute"
                            }
                          },
                          "runAfter": {
                            "Terminate_OnTimeOut_1": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "NotifyApp_2": {
                          "type": "Compose",
                          "inputs": "@variables('rnConfig')?['InvokeNotify( signalType )']",
                          "runAfter": {}
                        },
                        "Receive_Signal": {
                          "type": "Compose",
                          "inputs": "// Unmapped: Response Receive response from FromPublicResponder (BizTalk correlation pattern - requires manual configuration)",
                          "runAfter": {}
                        },
                        "Terminate_OnTimeOut_2": {
                          "type": "Terminate",
                          "inputs": {
                            "runStatus": "Failed",
                            "runError": {
                              "code": "Terminated",
                              "message": "Microsoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetString(\r\n           Microsoft.Solutions.BTARN.ConfigurationManager.StringResourceIDNames.PriResponderTimeOutOnSignal );\r\n\r\n\r\n\r\n"
                            }
                          },
                          "runAfter": {}
                        },
                        "WaitForSignal_2": {
                          "type": "Wait",
                          "inputs": {
                            "interval": {
                              "count": 1,
                              "unit": "Minute"
                            }
                          },
                          "runAfter": {}
                        },
                        "ConstructLOBMessage_2ff5bfe8_1": {
                          "type": "Compose",
                          "inputs": "@'LOBMessage = null;\r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.ConstructLOBMessage\r\n    (LOBMessage, AcceptanceMessage );\r\nsignalType = AcceptanceMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCCategory)'",
                          "runAfter": {}
                        },
                        "SendSignalToLOB_2": {
                          "type": "Http",
                          "inputs": {
                            "method": "POST",
                            "uri": "http://localhost/service",
                            "body": "@triggerBody()",
                            "headers": {
                              "Content-Type": "application/json"
                            }
                          },
                          "runAfter": {
                            "ConstructLOBMessage_2ff5bfe8_1": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "NotifyApp_3": {
                          "type": "Compose",
                          "inputs": "@variables('rnConfig')?['InvokeNotify( signalType )']",
                          "runAfter": {
                            "SendSignalToLOB_2": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "Receive_Signal_1": {
                          "type": "Compose",
                          "inputs": "// Unmapped: Response Receive response from FromPublicResponder (BizTalk correlation pattern - requires manual configuration)",
                          "runAfter": {
                            "NotifyApp_3": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "Listen_ForSignal_ad3232ef_Join": {
                          "type": "Compose",
                          "inputs": {
                            "parallelBranchesCompleted": true,
                            "branchCount": 10
                          },
                          "runAfter": {
                            "ReportException_4": [
                              "SUCCEEDED"
                            ],
                            "ConstructLOBMessage_2ff5bfe8": [
                              "SUCCEEDED"
                            ],
                            "errorDescription_3": [
                              "SUCCEEDED"
                            ],
                            "SendSignalToLOB_1": [
                              "SUCCEEDED"
                            ],
                            "WaitForSignal_1": [
                              "SUCCEEDED"
                            ],
                            "NotifyApp_2": [
                              "SUCCEEDED"
                            ],
                            "Receive_Signal": [
                              "SUCCEEDED"
                            ],
                            "Terminate_OnTimeOut_2": [
                              "SUCCEEDED"
                            ],
                            "WaitForSignal_2": [
                              "SUCCEEDED"
                            ],
                            "Receive_Signal_1": [
                              "SUCCEEDED"
                            ]
                          }
                        }
                      },
                      "else": {
                        "actions": {}
                      },
                      "runAfter": {}
                    }
                  },
                  "else": {
                    "actions": {
                      "NotifyProcessCompletion_fd794533": {
                        "type": "Compose",
                        "inputs": "@''",
                        "runAfter": {}
                      }
                    }
                  },
                  "runAfter": {}
                },
                "Receive_Signal_2": {
                  "type": "Compose",
                  "inputs": "// Unmapped: Response Receive response from FromPublicResponder (BizTalk correlation pattern - requires manual configuration)",
                  "runAfter": {}
                },
                "Terminate_OnTimeOut_3": {
                  "type": "Terminate",
                  "inputs": {
                    "runStatus": "Failed",
                    "runError": {
                      "code": "Terminated",
                      "message": "Microsoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetString(\r\n           Microsoft.Solutions.BTARN.ConfigurationManager.StringResourceIDNames.PriResponderTimeOutOnSignal );\r\n\r\n\r\n\r\n"
                    }
                  },
                  "runAfter": {}
                },
                "WaitForSignal_3": {
                  "type": "Wait",
                  "inputs": {
                    "interval": {
                      "count": 1,
                      "unit": "Minute"
                    }
                  },
                  "runAfter": {}
                },
                "ConstructLOBMessage_aaa34ff6_1": {
                  "type": "Compose",
                  "inputs": "@'LOBMessage = null;\r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.ConstructLOBMessage\r\n    (LOBMessage, SignalMessage);\r\nsignalType = SignalMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCCategory)'",
                  "runAfter": {}
                },
                "SendSignalToLOB_3": {
                  "type": "Http",
                  "inputs": {
                    "method": "POST",
                    "uri": "http://localhost/service",
                    "body": "@triggerBody()",
                    "headers": {
                      "Content-Type": "application/json"
                    }
                  },
                  "runAfter": {
                    "ConstructLOBMessage_aaa34ff6_1": [
                      "SUCCEEDED"
                    ]
                  }
                },
                "NotifyApp_4": {
                  "type": "Compose",
                  "inputs": "@variables('rnConfig')?['InvokeNotify( signalType )']",
                  "runAfter": {
                    "SendSignalToLOB_3": [
                      "SUCCEEDED"
                    ]
                  }
                },
                "Decide_OnRNIFVersion_4ce2fbeb_1": {
                  "type": "If",
                  "expression": "@equals(variables('rnConfig')?['xRNVersion'], 'rnifv11VersionID')",
                  "actions": {
                    "DecideIf2ndAckIsExpected_6899deec_1": {
                      "type": "If",
                      "expression": "@not(equals('IsExceptionMessage)', 'TrueString'))",
                      "actions": {
                        "ReportException_6": {
                          "type": "Compose",
                          "inputs": "@'exceptionCode = Microsoft.Solutions.BTARN.ConfigurationManager.GlobalMessageExceptionCode.TimeoutOnSignal;\r\nerrorDescription = \r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetString(\r\n Microsoft.Solutions.BTARN.ConfigurationManager.StringResourceIDNames.PriResponderTimeOutOnSignal )'",
                          "runAfter": {}
                        },
                        "ConstructLOBMessage_2ff5bfe8_2": {
                          "type": "Compose",
                          "inputs": "@'LOBMessage = null;\r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.ConstructLOBMessage\r\n    (LOBMessage, AcceptanceMessage );\r\nsignalType = AcceptanceMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCCategory)'",
                          "runAfter": {}
                        },
                        "CallOrchestration_2_6": {
                          "type": "Workflow",
                          "inputs": {
                            "host": {
                              "workflow": {
                                "id": "SendExceptionToLOB"
                              }
                            },
                            "body": {
                              "message": "@triggerBody()"
                            }
                          },
                          "runAfter": {}
                        },
                        "ToLOB_3": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "CallOrchestration_2_6": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "pipCode_4": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "ToLOB_3": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "pipVersion_4": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "pipCode_4": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "pipInstanceID_4": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "pipVersion_4": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "sourcePartyName_4": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "pipInstanceID_4": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "destinationPartyName_4": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "sourcePartyName_4": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "exceptionCode_4": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "destinationPartyName_4": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "componentCode_4": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "exceptionCode_4": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "errorDescription_4": {
                          "type": "Compose",
                          "inputs": "@'// Unhandled shape type: Parameter'",
                          "runAfter": {
                            "componentCode_4": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "SendSignalToLOB_4": {
                          "type": "Http",
                          "inputs": {
                            "method": "POST",
                            "uri": "http://localhost/service",
                            "body": "@triggerBody()",
                            "headers": {
                              "Content-Type": "application/json"
                            }
                          },
                          "runAfter": {}
                        },
                        "ReportException_7": {
                          "type": "Compose",
                          "inputs": "@'exceptionCode = Microsoft.Solutions.BTARN.ConfigurationManager.GlobalMessageExceptionCode.TimeoutOnSignal;\r\nerrorDescription = \r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetString(\r\n Microsoft.Solutions.BTARN.ConfigurationManager.StringResourceIDNames.PriResponderTimeOutOnSignal )'",
                          "runAfter": {}
                        },
                        "CallOrchestration_2_7": {
                          "type": "Workflow",
                          "inputs": {
                            "host": {
                              "workflow": {
                                "id": "SendExceptionToLOB"
                              }
                            },
                            "body": {
                              "message": "@triggerBody()"
                            }
                          },
                          "runAfter": {
                            "ReportException_7": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "Terminate_OnTimeOut_4": {
                          "type": "Terminate",
                          "inputs": {
                            "runStatus": "Failed",
                            "runError": {
                              "code": "Terminated",
                              "message": "Microsoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetString(\r\n           Microsoft.Solutions.BTARN.ConfigurationManager.StringResourceIDNames.PriResponderTimeOutOnSignal );\r\n\r\n\r\n\r\n"
                            }
                          },
                          "runAfter": {
                            "CallOrchestration_2_7": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "WaitForSignal_4": {
                          "type": "Wait",
                          "inputs": {
                            "interval": {
                              "count": 1,
                              "unit": "Minute"
                            }
                          },
                          "runAfter": {
                            "Terminate_OnTimeOut_4": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "NotifyApp_5": {
                          "type": "Compose",
                          "inputs": "@variables('rnConfig')?['InvokeNotify( signalType )']",
                          "runAfter": {}
                        },
                        "Receive_Signal_3": {
                          "type": "Compose",
                          "inputs": "// Unmapped: Response Receive response from FromPublicResponder (BizTalk correlation pattern - requires manual configuration)",
                          "runAfter": {}
                        },
                        "Terminate_OnTimeOut_5": {
                          "type": "Terminate",
                          "inputs": {
                            "runStatus": "Failed",
                            "runError": {
                              "code": "Terminated",
                              "message": "Microsoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.GetString(\r\n           Microsoft.Solutions.BTARN.ConfigurationManager.StringResourceIDNames.PriResponderTimeOutOnSignal );\r\n\r\n\r\n\r\n"
                            }
                          },
                          "runAfter": {}
                        },
                        "WaitForSignal_5": {
                          "type": "Wait",
                          "inputs": {
                            "interval": {
                              "count": 1,
                              "unit": "Minute"
                            }
                          },
                          "runAfter": {}
                        },
                        "ConstructLOBMessage_2ff5bfe8_3": {
                          "type": "Compose",
                          "inputs": "@'LOBMessage = null;\r\nMicrosoft.Solutions.BTARN.ConfigurationManager.RuntimeHelper.ConstructLOBMessage\r\n    (LOBMessage, AcceptanceMessage );\r\nsignalType = AcceptanceMessage(Microsoft.Solutions.BTARN.GlobalSchemas.SCCategory)'",
                          "runAfter": {}
                        },
                        "SendSignalToLOB_5": {
                          "type": "Http",
                          "inputs": {
                            "method": "POST",
                            "uri": "http://localhost/service",
                            "body": "@triggerBody()",
                            "headers": {
                              "Content-Type": "application/json"
                            }
                          },
                          "runAfter": {
                            "ConstructLOBMessage_2ff5bfe8_3": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "NotifyApp_6": {
                          "type": "Compose",
                          "inputs": "@variables('rnConfig')?['InvokeNotify( signalType )']",
                          "runAfter": {
                            "SendSignalToLOB_5": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "Receive_Signal_4": {
                          "type": "Compose",
                          "inputs": "// Unmapped: Response Receive response from FromPublicResponder (BizTalk correlation pattern - requires manual configuration)",
                          "runAfter": {
                            "NotifyApp_6": [
                              "SUCCEEDED"
                            ]
                          }
                        },
                        "Listen_ForSignal_ad3232ef_Join_1": {
                          "type": "Compose",
                          "inputs": {
                            "parallelBranchesCompleted": true,
                            "branchCount": 10
                          },
                          "runAfter": {
                            "ReportException_6": [
                              "SUCCEEDED"
                            ],
                            "ConstructLOBMessage_2ff5bfe8_2": [
                              "SUCCEEDED"
                            ],
                            "errorDescription_4": [
                              "SUCCEEDED"
                            ],
                            "SendSignalToLOB_4": [
                              "SUCCEEDED"
                            ],
                            "WaitForSignal_4": [
                              "SUCCEEDED"
                            ],
                            "NotifyApp_5": [
                              "SUCCEEDED"
                            ],
                            "Receive_Signal_3": [
                              "SUCCEEDED"
                            ],
                            "Terminate_OnTimeOut_5": [
                              "SUCCEEDED"
                            ],
                            "WaitForSignal_5": [
                              "SUCCEEDED"
                            ],
                            "Receive_Signal_4": [
                              "SUCCEEDED"
                            ]
                          }
                        }
                      },
                      "else": {
                        "actions": {}
                      },
                      "runAfter": {}
                    }
                  },
                  "else": {
                    "actions": {
                      "NotifyProcessCompletion_fd794533_1": {
                        "type": "Compose",
                        "inputs": "@''",
                        "runAfter": {}
                      }
                    }
                  },
                  "runAfter": {
                    "NotifyApp_4": [
                      "SUCCEEDED"
                    ]
                  }
                },
                "Receive_Signal_5": {
                  "type": "Compose",
                  "inputs": "// Unmapped: Response Receive response from FromPublicResponder (BizTalk correlation pattern - requires manual configuration)",
                  "runAfter": {
                    "Decide_OnRNIFVersion_4ce2fbeb_1": [
                      "SUCCEEDED"
                    ]
                  }
                },
                "Listen_ForSignal_2a23d4af_Join": {
                  "type": "Compose",
                  "inputs": {
                    "parallelBranchesCompleted": true,
                    "branchCount": 11
                  },
                  "runAfter": {
                    "ReportException_2": [
                      "SUCCEEDED"
                    ],
                    "ConstructLOBMessage_aaa34ff6": [
                      "SUCCEEDED"
                    ],
                    "errorDescription_2": [
                      "SUCCEEDED"
                    ],
                    "SendSignalToLOB": [
                      "SUCCEEDED"
                    ],
                    "WaitForSignal": [
                      "SUCCEEDED"
                    ],
                    "NotifyApp_1": [
                      "SUCCEEDED"
                    ],
                    "Decide_OnRNIFVersion_4ce2fbeb": [
                      "SUCCEEDED"
                    ],
                    "Receive_Signal_2": [
                      "SUCCEEDED"
                    ],
                    "Terminate_OnTimeOut_3": [
                      "SUCCEEDED"
                    ],
                    "WaitForSignal_3": [
                      "SUCCEEDED"
                    ],
                    "Receive_Signal_5": [
                      "SUCCEEDED"
                    ]
                  }
                }
              }
            },
            "runAfter": {
              "SendToPublicProcess_a8d6c9a0": [
                "SUCCEEDED"
              ]
            }
          }
        },
        "else": {
          "actions": {
            "NotifyProcessCompletion_732104b7": {
              "type": "Compose",
              "inputs": "@''",
              "runAfter": {}
            }
          }
        },
        "runAfter": {
          "NotifyApp": [
            "SUCCEEDED"
          ]
        }
      },
      "NotifyProcessCompletion": {
        "type": "Compose",
        "inputs": "@''",
        "runAfter": {
          "DecideActivityType_b0978f80": [
            "SUCCEEDED"
          ]
        }
      },
      "DefaultSendPort": {
        "type": "ServiceProvider",
        "inputs": {
          "parameters": {
            "entityName": "queue",
            "message": "@triggerBody()",
            "sessionId": "",
            "contentType": "application/json"
          },
          "serviceProviderConfiguration": {
            "connectionName": "servicebus",
            "operationId": "sendMessage",
            "serviceProviderId": "/serviceProviders/serviceBus"
          }
        },
        "runAfter": {
          "NotifyProcessCompletion": [
            "SUCCEEDED"
          ]
        }
      }
    },
    "outputs": {}
  }
}