$version: 1
$input: XML
$output: XML
$sourceSchema: CustomerServiceRequest.xsd
$targetSchema: LastPaymentRequest.xsd
$sourceNamespaces:
  b: http://schemas.microsoft.com/BizTalk/2003
  ns0: http://Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.CustomerRequestProperties
  ns1: http://Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.CustomerServiceRequest
  xs: http://www.w3.org/2001/XMLSchema
$targetNamespaces:
  b: http://schemas.microsoft.com/BizTalk/2003
  ns0: http://Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.LastPaymentRequest
  ns1: http://Microsoft.Samples.BizTalk.WoodgroveBank.Schemas.CustomerServiceRequest
  xs: http://www.w3.org/2001/XMLSchema
ns0:LastPaymentRequest:
  AccountNumber: /ns1:CustomerServiceRequest/Body/AccountNumber
  CustomerName: if-then-else(is-equal(/ns1:CustomerServiceRequest/Body/AuthenticationInfo/DataElementName, "CustomerName"), /ns1:CustomerServiceRequest/Body/AuthenticationInfo/DataElementValue, null)
